"scrRequestAssessments As screen.'autoLayout_Sidebar_ver1.0'":
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnHidden: |-
        =Clear(colRequestAssessmentsStudentList);
        Clear(colRequestAssessmentsAdvisorList);
    OnVisible: |-
        =ClearCollect(colRequestAssessmentsStudentList,AddColumns(Sort(Filter('PhD Students','Student Status'="Active"),'Full Name'),StudentSelected,false));
        ClearCollect(colRequestAssessmentsAdvisorList,Filter(AddColumns('PhD Advisors',AdvisorSelected,false,Advisees,CountRows(Filter(colRequestAssessmentsStudentList,'Advisor NUID'=Advisor.'Advisor NUID')),CoAdvisees,CountRows(Filter(colRequestAssessmentsStudentList,'Advisor NUID'='Co-Advisor'.'Advisor NUID'))),Advisees>0 Or CoAdvisees >0));
        ClearCollect(colCurrentTerm,ShowColumns(Filter('PhD Terms',STVTERM_START_DATE<=Today() And STVTERM_END_DATE>=Today()),STVTERM_CODE,STVTERM_DESC));
        UpdateContext({StudentsSelected:0,AdvisorsSelcted:0});
    Width: =Min(App.Width,App.DesignWidth)

    ctrRequestAssessments As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        ctrRequestAssessmentsHeader As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =75
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            ZIndex: =2

            cmpRequestAssessmentsHeader As cmpHeader:
                LayoutMinHeight: =640
                LayoutMinWidth: =640
                MenuScreen: =scrAdminMenu
                ScreenTitle: ="Request Assessments"
                Width: =Parent.Width

        ctrRequestAssessmentsMain As groupContainer.horizontalAutoLayoutContainer:
            Fill: =RGBA(245, 245, 245, 1)
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutGap: =16
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutWrap: =true
            PaddingBottom: =2
            PaddingLeft: =2
            PaddingRight: =2
            PaddingTop: =2
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =3

            ctrRequestAssessmentsStudents As groupContainer.verticalAutoLayoutContainer:
                BorderStyle: =BorderStyle.None
                Fill: =RGBA(245, 245, 245, 1)
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =8
                RadiusBottomRight: =8
                RadiusTopLeft: =8
                RadiusTopRight: =8
                Width: =600
                ZIndex: =4

                ctrRequestStudentsOptions As groupContainer.horizontalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =RGBA(255, 255, 255, 1)
                    FillPortions: =0
                    Height: =80
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =1

                    cntRequestSelfType As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =80
                        LayoutMinWidth: =200
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =5
                        PaddingRight: =Self.PaddingLeft
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =2

                        labRequestSelfType As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            Size: =13
                            Text: ="Select Assessment Type"
                            Width: =Parent.Width
                            ZIndex: =1

                        drpRequestSelfType As dropdown:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            ChevronBackground: =RGBA(245, 245, 245, 1)
                            ChevronDisabledBackground: =RGBA(242, 242, 241, 0)
                            ChevronDisabledFill: =RGBA(161, 159, 157, 1)
                            ChevronFill: =RGBA(50, 49, 48, 1)
                            ChevronHoverBackground: =RGBA(245, 245, 245, 1)
                            ChevronHoverFill: =RGBA(50, 49, 48, 1)
                            Color: =RGBA(50, 49, 48, 1)
                            Default: ='Assessment Type (PhD Assessment Questions)'.'Self-Brief'
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            Fill: =RGBA(245, 245, 245, 1)
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(245, 245, 245, 1)
                            Items: =['Assessment Type (PhD Assessment Questions)'.'Self-Brief','Assessment Type (PhD Assessment Questions)'.'Self-Comprehensive']
                            PaddingBottom: =5
                            PaddingLeft: =12
                            PaddingRight: =5
                            PaddingTop: =5
                            PressedBorderColor: =RGBA(16, 110, 190, 1)
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =RGBA(0, 120, 212, 1)
                            SelectionColor: =RGBA(50, 49, 48, 1)
                            SelectionFill: =RGBA(0, 120, 212, 1)
                            Size: =13
                            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                            ZIndex: =2

                    cntRequestSelfTerm As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =80
                        LayoutMinWidth: =200
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =3

                        labRequestSelfTerm As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            Size: =13
                            Text: |-
                                ="Requesting for term:"
                            Width: =Parent.Width
                            ZIndex: =1

                        txtRequestSelfTerm As text:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =First(colCurrentTerm).cr829_stvterm_desc
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =DisplayMode.View
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            PressedBorderColor: =RGBA(0, 120, 212, 1)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =13
                            Width: =Parent.Width
                            ZIndex: =2

                    cntRequestSelfButton As groupContainer.manualLayoutContainer:
                        DropShadow: =DropShadow.Light
                        LayoutMinHeight: =80
                        LayoutMinWidth: =200
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =4

                        btnRequestSelfAssessments As button:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =If(StudentsSelected=0,DisplayMode.Disabled,DisplayMode.Edit)
                            Fill: =RGBA(0, 120, 212, 1)
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =60
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(255, 255, 255, 1)
                            HoverFill: =RGBA(16, 110, 190, 1)
                            OnSelect: |-
                                =ClearCollect(colAssessmentRequests,Filter('PhD Assessments','Student NUID'=""));
                                ForAll(Filter(colRequestAssessmentsStudentList,StudentSelected),
                                    ForAll(Filter('PhD Assessment Questions','Assessment Type'=drpRequestSelfType.Selected.Value),
                                        Collect(colSelfAssessmentRequests,{'Student NUID':NUID,'Submitter NUID':NUID,'Term Code':First(colCurrentTerm).cr829_stvterm_code,'Term Name':First(colCurrentTerm).cr829_stvterm_desc,'Assessment Type':drpRequestSelfType.Selected.Value,'Q Order':'Question Order','Question Text':Question,'Q Type':'Question Type','Q Options':'Choice Options','Date Requested':Today()})
                                    )
                                );
                                Patch('PhD Assessments',colAssessmentRequests);
                                UpdateIf(colRequestAssessmentsStudentList, true, {StudentSelected:false});
                                UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                                Clear(colAssessmentRequests);
                                Reset(chkSelectAllStudents);
                            PressedBorderColor: =RGBA(0, 69, 120, 1)
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =RGBA(16, 110, 190, 1)
                            RadiusBottomLeft: =Self.RadiusTopLeft
                            RadiusBottomRight: =Self.RadiusTopLeft
                            RadiusTopLeft: =5
                            RadiusTopRight: =Self.RadiusTopLeft
                            Size: =15
                            Text: ="Request "&StudentsSelected&" Self Assessment"&If(StudentsSelected=1,"","s")
                            Tooltip: =If(StudentsSelected=0,"Must select at least one student.","")
                            Width: =190
                            X: =(Parent.Width-Self.Width)/2
                            Y: =(Parent.Height-Self.Height)/2
                            ZIndex: =1

                ctrRequestStudentsList As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =RGBA(255, 255, 255, 1)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =2

                    ctrRequestStudentsListColumns As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.Light
                        Fill: =RGBA(180, 214, 250, 1)
                        FillPortions: =0
                        Height: =ctrAdvColumns.Height
                        LayoutMinHeight: =30
                        LayoutMinWidth: =250
                        PaddingLeft: =5
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width
                        Y: =40
                        ZIndex: =1

                        labRequestStudentName As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            PaddingLeft: =10
                            Size: =13
                            Text: ="Active Students ("&StudentsSelected&" student"&If(StudentsSelected=1,"","s")&" selected)"
                            Width: =Parent.Width-Self.X-Parent.PaddingRight
                            X: =chkSelectAllStudents.X+chkSelectAllStudents.Width
                            ZIndex: =1

                        chkSelectAllStudents As checkbox:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            CheckboxBorderColor: =RGBA(96, 94, 92, 1)
                            CheckmarkFill: =RGBA(0, 120, 212, 1)
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =40
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnCheck: |-
                                =UpdateIf(colRequestAssessmentsStudentList, true, {StudentSelected:true});
                                UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                            OnUncheck: |-
                                =UpdateIf(colRequestAssessmentsStudentList, true, {StudentSelected:false});
                                UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected))});
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Size: =13
                            Text: =""
                            Width: =40
                            X: =Parent.PaddingLeft
                            ZIndex: =2

                    galRequestStudentsList As gallery.galleryVertical:
                        BorderColor: =RGBA(245, 245, 245, 1)
                        DelayItemLoading: =true
                        Items: =colRequestAssessmentsStudentList
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        LoadingSpinnerColor: =Color.DarkGray
                        TemplateSize: |
                            =40
                        ZIndex: =2

                        txtRequestStudentName As text:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =ThisItem.'Full Name'
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =DisplayMode.View
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PressedBorderColor: =RGBA(0, 120, 212, 1)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =13
                            Width: =Parent.Width-Self.X-(Parent.TemplatePadding*2)
                            X: =chkSelectThisStudent.X+chkSelectThisStudent.Width
                            ZIndex: =1

                        chkSelectThisStudent As checkbox:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            CheckboxBorderColor: =RGBA(96, 94, 92, 1)
                            CheckmarkFill: =RGBA(0, 120, 212, 1)
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =ThisItem.StudentSelected
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =40
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnCheck: |-
                                =UpdateIf(colRequestAssessmentsStudentList,ThisItem.NUID=NUID,{StudentSelected:true});
                                UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                            OnSelect: =Select(Parent)
                            OnUncheck: |-
                                =UpdateIf(colRequestAssessmentsStudentList,ThisItem.NUID=NUID,{StudentSelected:false});
                                UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Size: =13
                            Text: =""
                            Width: =40
                            ZIndex: =2

            ctrRequestAssessmentsAdvisors As groupContainer.verticalAutoLayoutContainer:
                BorderStyle: =BorderStyle.None
                Fill: =RGBA(245, 245, 245, 1)
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =8
                RadiusBottomRight: =8
                RadiusTopLeft: =8
                RadiusTopRight: =8
                Width: =600
                ZIndex: =5

                ctrRequestAdvisorsOptions As groupContainer.horizontalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =RGBA(255, 255, 255, 1)
                    FillPortions: =0
                    Height: =80
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =1

                    cntRequestAdvisorType As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =80
                        LayoutMinWidth: =200
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =5
                        PaddingRight: =Self.PaddingLeft
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =1

                        labRequestAdvisorType As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            Size: =13
                            Text: ="Select Assessment Type"
                            Width: =Parent.Width
                            ZIndex: =1

                        drpRequestAdvisorType As dropdown:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            ChevronBackground: =RGBA(245, 245, 245, 1)
                            ChevronDisabledBackground: =RGBA(242, 242, 241, 0)
                            ChevronDisabledFill: =RGBA(161, 159, 157, 1)
                            ChevronFill: =RGBA(50, 49, 48, 1)
                            ChevronHoverBackground: =RGBA(245, 245, 245, 1)
                            ChevronHoverFill: =RGBA(50, 49, 48, 1)
                            Color: =RGBA(50, 49, 48, 1)
                            Default: ='Assessment Type (PhD Assessment Questions)'.'Advisor-Brief'
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            Fill: =RGBA(245, 245, 245, 1)
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(245, 245, 245, 1)
                            Items: =['Assessment Type (PhD Assessment Questions)'.'Advisor-Brief','Assessment Type (PhD Assessment Questions)'.'Advisor-Comprehensive']
                            PaddingBottom: =5
                            PaddingLeft: =12
                            PaddingRight: =5
                            PaddingTop: =5
                            PressedBorderColor: =RGBA(16, 110, 190, 1)
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =RGBA(0, 120, 212, 1)
                            SelectionColor: =RGBA(50, 49, 48, 1)
                            SelectionFill: =RGBA(0, 120, 212, 1)
                            Size: =13
                            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                            ZIndex: =2

                    cntRequestAdvisorTerm As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =80
                        LayoutMinWidth: =200
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =2

                        labRequestAdvisorTerm As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            Size: =13
                            Text: |-
                                ="Requesting for term:"
                            Width: =Parent.Width
                            ZIndex: =1

                        txtRequestAdvisorTerm As text:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =First(colCurrentTerm).cr829_stvterm_desc
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =DisplayMode.View
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            PressedBorderColor: =RGBA(0, 120, 212, 1)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =13
                            Width: =Parent.Width
                            ZIndex: =2

                    cntRequestAdvisorButton As groupContainer.manualLayoutContainer:
                        DropShadow: =DropShadow.Light
                        LayoutMinHeight: =80
                        LayoutMinWidth: =200
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =3

                        btnRequestAdvisorAssessments As button:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =If(AdvisorsSelcted=0,DisplayMode.Disabled,DisplayMode.Edit)
                            Fill: =RGBA(0, 120, 212, 1)
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =60
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(255, 255, 255, 1)
                            HoverFill: =RGBA(16, 110, 190, 1)
                            OnSelect: |-
                                =ClearCollect(colAssessmentRequests,Filter('PhD Assessments','Student NUID'=""));
                                ForAll(Filter(colRequestAssessmentsAdvisorList,AdvisorSelected),
                                    ForAll(Filter('PhD Assessment Questions','Assessment Type'=drpRequestAdvisorType.Selected.Value),
                                        If(drpRequestAdvisorType.Selected.Value='Assessment Type (PhD Assessment Questions)'.'Advisor-Comprehensive',
                                            // Comprehensive assessment also sent for co-advisees
                                            ForAll(Filter('PhD Students',Advisor.'Advisor NUID'='Advisor NUID' Or 'Co-Advisor'.'Advisor NUID'='Advisor NUID'),
                                                Collect(colAssessmentRequests,{'Student NUID':NUID,'Submitter NUID':'Advisor NUID','Term Code':First(colCurrentTerm).cr829_stvterm_code,'Term Name':First(colCurrentTerm).cr829_stvterm_desc,'Assessment Type':drpRequestAdvisorType.Selected.Value,'Q Order':'Question Order','Question Text':Question,'Q Type':'Question Type','Q Options':'Choice Options','Date Requested':Today()})
                                            ),
                                            // Brief assessment only sent to primary advisees
                                            ForAll(Filter('PhD Students',Advisor.'Advisor NUID'='Advisor NUID'),
                                                Collect(colAssessmentRequests,{'Student NUID':NUID,'Submitter NUID':'Advisor NUID','Term Code':First(colCurrentTerm).cr829_stvterm_code,'Term Name':First(colCurrentTerm).cr829_stvterm_desc,'Assessment Type':drpRequestAdvisorType.Selected.Value,'Q Order':'Question Order','Question Text':Question,'Q Type':'Question Type','Q Options':'Choice Options','Date Requested':Today()})
                                            )
                                        )
                                    )
                                );
                                Patch('PhD Assessments',colAssessmentRequests);
                                UpdateIf(colRequestAssessmentsAdvisorList, true, {AdvisorSelected:false});
                                UpdateContext({AdvisorsSelcted:CountRows(Filter(colRequestAssessmentsAdvisorList,AdvisorSelected=true))});
                                Clear(colAssessmentRequests);
                                Reset(chkSelectAllAdvisors);
                            PressedBorderColor: =RGBA(0, 69, 120, 1)
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =RGBA(16, 110, 190, 1)
                            RadiusBottomLeft: =Self.RadiusTopLeft
                            RadiusBottomRight: =Self.RadiusTopLeft
                            RadiusTopLeft: =5
                            RadiusTopRight: =Self.RadiusTopLeft
                            Size: =15
                            Text: ="Request "&AdvisorsSelcted&" Advisor Assessment"&If(AdvisorsSelcted=1,"","s")
                            Tooltip: =If(StudentsSelected=0,"Must select at least one student.","")
                            Width: =190
                            X: =(Parent.Width-Self.Width)/2
                            Y: =(Parent.Height-Self.Height)/2
                            ZIndex: =1

                ctrRequestAdvisorsList As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =RGBA(255, 255, 255, 1)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =2

                    ctrRequestAdvisorListColumns As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.Light
                        Fill: =RGBA(180, 214, 250, 1)
                        FillPortions: =0
                        Height: =ctrAdvColumns.Height
                        LayoutMinHeight: =30
                        LayoutMinWidth: =250
                        PaddingLeft: =5
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width
                        Y: =40
                        ZIndex: =1

                        labRequestCoAdviseeCount As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            PaddingLeft: =10
                            Size: =13
                            Text: ="Co-Advisees"
                            Tooltip: ="Advisor-Brief will only be sent to primary advisor. Advisor-Comprihensive will be sent to both advisor and co-advisor."
                            Width: =txtRequestCoAdviseeCount.Width
                            X: =txtRequestCoAdviseeCount.X
                            ZIndex: =1

                        labRequestAdviseeCount As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            PaddingLeft: =10
                            Size: =13
                            Text: ="Advisees"
                            Tooltip: ="Advisor-Brief will only be sent to primary advisor. Advisor-Comprihensive will be sent to both advisor and co-advisor."
                            Width: =txtRequestAdviseeCount.Width
                            X: =txtRequestAdviseeCount.X
                            ZIndex: =2

                        labRequestAdvisorName As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Bold
                            PaddingLeft: =10
                            Size: =13
                            Text: ="Active Advisors ("&AdvisorsSelcted&" advisor"&If(AdvisorsSelcted = 1,"","s")&" selected)"
                            Width: =txtRequestAdvisorName.Width
                            X: =txtRequestAdvisorName.X
                            ZIndex: =3

                        chkSelectAllAdvisors As checkbox:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            CheckboxBorderColor: =RGBA(96, 94, 92, 1)
                            CheckmarkFill: =RGBA(0, 120, 212, 1)
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =40
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnCheck: |-
                                =UpdateIf(colRequestAssessmentsAdvisorList, true, {AdvisorSelected:true});
                                UpdateContext({AdvisorsSelcted:CountRows(Filter(colRequestAssessmentsAdvisorList,AdvisorSelected=true))});
                            OnUncheck: |-
                                =UpdateIf(colRequestAssessmentsAdvisorList, true, {AdvisorSelected:false});
                                UpdateContext({AdvisorsSelcted:CountRows(Filter(colRequestAssessmentsAdvisorList,AdvisorSelected=true))});
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Size: =13
                            Text: =""
                            Width: =40
                            X: =Parent.PaddingLeft
                            ZIndex: =4

                    galRequestAdvisorsList As gallery.galleryVertical:
                        BorderColor: =RGBA(245, 245, 245, 1)
                        DelayItemLoading: =true
                        Items: =colRequestAssessmentsAdvisorList
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        LoadingSpinnerColor: =Color.DarkGray
                        TemplateSize: |
                            =40
                        ZIndex: =2

                        txtRequestCoAdviseeCount As text:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =ThisItem.CoAdvisees
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =DisplayMode.View
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            OnSelect: =Select(Parent)
                            PressedBorderColor: =RGBA(0, 120, 212, 1)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =13
                            Width: =118
                            X: =txtRequestAdviseeCount.X+txtRequestAdviseeCount.Width
                            ZIndex: =1

                        txtRequestAdviseeCount As text:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =ThisItem.Advisees
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =DisplayMode.View
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            OnSelect: =Select(Parent)
                            PressedBorderColor: =RGBA(0, 120, 212, 1)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =13
                            Width: =100
                            X: =txtRequestAdvisorName.X+txtRequestAdvisorName.Width
                            ZIndex: =2

                        txtRequestAdvisorName As text:
                            BorderColor: =RGBA(245, 245, 245, 1)
                            BorderThickness: =2
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =ThisItem.'Advisor Name'
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            DisabledFill: =RGBA(242, 242, 241, 0)
                            DisplayMode: =DisplayMode.View
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            HoverBorderColor: =RGBA(16, 110, 190, 1)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PressedBorderColor: =RGBA(0, 120, 212, 1)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =13
                            Width: =361
                            X: =chkSelectThisAdvisor.X+chkSelectThisAdvisor.Width
                            ZIndex: =3

                        chkSelectThisAdvisor As checkbox:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            CheckboxBorderColor: =RGBA(96, 94, 92, 1)
                            CheckmarkFill: =RGBA(0, 120, 212, 1)
                            Color: =RGBA(50, 49, 48, 1)
                            Default: =ThisItem.AdvisorSelected
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(161, 159, 157, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =40
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(50, 49, 48, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnCheck: |-
                                =UpdateIf(colRequestAssessmentsAdvisorList,ThisItem.AdvisorID=AdvisorID,{AdvisorSelected:true});
                                UpdateContext({AdvisorsSelcted:CountRows(Filter(colRequestAssessmentsAdvisorList,AdvisorSelected=true))});
                            OnSelect: =Select(Parent)
                            OnUncheck: |-
                                =UpdateIf(colRequestAssessmentsAdvisorList,ThisItem.AdvisorID=AdvisorID,{AdvisorSelected:false});
                                UpdateContext({AdvisorsSelcted:CountRows(Filter(colRequestAssessmentsAdvisorList,AdvisorSelected=true))});
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =RGBA(50, 49, 48, 1)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Size: =13
                            Text: =""
                            Width: =40
                            ZIndex: =4

