"scrRequestAssessments_1 As screen.'autoLayout_Sidebar_ver1.0'":
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnHidden: |-
        =Clear(colRequestAssessmentsStudentList);
        //Clear(colRequestAssessmentsAdvisorList);
    OnVisible: |-
        =ClearCollect(colRequestAssessmentsStudentList,AddColumns(Sort(Filter('PhD Students','Student Status'="Active"),'Full Name'),StudentSelected,false));
        //ClearCollect(colRequestAssessmentsAdvisorList,Filter(AddColumns('PhD Advisors',AdvisorSelected,false,Advisees,CountRows(Filter(colRequestAssessmentsStudentList,'Advisor NUID'=Advisor.'Advisor NUID')),CoAdvisees,CountRows(Filter(colRequestAssessmentsStudentList,'Advisor NUID'='Co-Advisor'.'Advisor NUID'))),Advisees>0 Or CoAdvisees >0));
        ClearCollect(colCurrentTerm,ShowColumns(Filter('PhD Terms',STVTERM_START_DATE<=Today() And STVTERM_END_DATE>=Today()),STVTERM_CODE,STVTERM_DESC));
        UpdateContext({StudentsSelected:0,AdvisorsSelcted:0});
    Width: =Min(App.Width,App.DesignWidth)

    ctrRequestAssessments_1 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        ctrRequestAssessmentsHeader_1 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =75
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            ZIndex: =2

            cmpRequestAssessmentsHeader_1 As cmpHeader:
                LayoutMinHeight: =640
                LayoutMinWidth: =640
                MenuScreen: =scrAdminMenu
                ScreenTitle: ="Request Assessments"
                Width: =Parent.Width

        ctrRequestStudentsOptions_3 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =80
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =5

            cntRequestSelfTerm_3 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =80
                LayoutMinWidth: =200
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =6

                labRequestSelfTerm_3 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Bold
                    Size: =13
                    Text: |-
                        ="Requesting for term:"
                    Width: =Parent.Width
                    ZIndex: =7

                txtRequestSelfTerm_3 As text:
                    BorderColor: =RGBA(245, 245, 245, 1)
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    Default: =First(colCurrentTerm).cr829_stvterm_desc
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    DisabledFill: =RGBA(242, 242, 241, 0)
                    DisplayMode: =DisplayMode.View
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =RGBA(16, 110, 190, 1)
                    HoverColor: =RGBA(50, 49, 48, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    PressedBorderColor: =RGBA(0, 120, 212, 1)
                    PressedColor: =RGBA(50, 49, 48, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =13
                    Width: =Parent.Width
                    ZIndex: =8

            cntRequestSelfType_3 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Height: =Parent.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =80
                LayoutMinWidth: =200
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =5
                PaddingRight: =Self.PaddingLeft
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =9

                labRequestSelfType_3 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Bold
                    Size: =13
                    Text: ="Select Assessment Type"
                    Width: =Parent.Width
                    ZIndex: =10

                drpRequestSelfType_3 As dropdown:
                    BorderColor: =RGBA(245, 245, 245, 1)
                    ChevronBackground: =RGBA(245, 245, 245, 1)
                    ChevronDisabledBackground: =RGBA(242, 242, 241, 0)
                    ChevronDisabledFill: =RGBA(161, 159, 157, 1)
                    ChevronFill: =RGBA(50, 49, 48, 1)
                    ChevronHoverBackground: =RGBA(245, 245, 245, 1)
                    ChevronHoverFill: =RGBA(50, 49, 48, 1)
                    Color: =RGBA(50, 49, 48, 1)
                    Default: ='Assessment Type (PhD Assessment Questions)'.'Self-Brief'
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    DisabledFill: =RGBA(242, 242, 241, 0)
                    Fill: =RGBA(245, 245, 245, 1)
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =RGBA(16, 110, 190, 1)
                    HoverColor: =RGBA(50, 49, 48, 1)
                    HoverFill: =RGBA(245, 245, 245, 1)
                    Items: =Choices('Assessment Type (PhD Assessment Questions)')
                    PaddingBottom: =5
                    PaddingLeft: =12
                    PaddingRight: =5
                    PaddingTop: =5
                    PressedBorderColor: =RGBA(16, 110, 190, 1)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(0, 120, 212, 1)
                    SelectionColor: =RGBA(50, 49, 48, 1)
                    SelectionFill: =RGBA(0, 120, 212, 1)
                    Size: =13
                    Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    ZIndex: =11

            cntRequestSelfButton_3 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Light
                LayoutMinHeight: =80
                LayoutMinWidth: =200
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =12

                btnRequestSelfAssessments_3 As button:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    DisabledFill: =RGBA(242, 242, 241, 0)
                    DisplayMode: =If(StudentsSelected=0,DisplayMode.Disabled,DisplayMode.Edit)
                    Fill: =RGBA(0, 120, 212, 1)
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =60
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =RGBA(16, 110, 190, 1)
                    OnSelect: |-
                        =ClearCollect(colAssessmentRequests,Filter('PhD Assessments','Student NUID'=""));
                        ForAll(Filter(colRequestAssessmentsStudentList,StudentSelected),
                            ForAll(Filter('PhD Assessment Questions','Assessment Type'=drpRequestSelfType_3.Selected.Value),
                                If(drpRequestSelfType_3.Selected.Value in ['Assessment Type (PhD Assessment Questions)'.'Self-Brief','Assessment Type (PhD Assessment Questions)'.'Self-Comprehensive'],
                                    Collect(colAssessmentRequests,{'Student NUID':NUID,'Submitter NUID':NUID,'Term Code':First(colCurrentTerm).cr829_stvterm_code,'Term Name':First(colCurrentTerm).cr829_stvterm_desc,'Assessment Type':drpRequestSelfType_3.Selected.Value,'Q Order':'Question Order','Question Text':Question,'Q Type':'Question Type','Q Options':'Choice Options','Date Requested':Today()})
                                );
                                If(drpRequestSelfType_3.Selected.Value in ['Assessment Type (PhD Assessments)'.'Advisor-Brief','Assessment Type (PhD Assessments)'.'Advisor-Comprehensive'],
                                    Collect(colAssessmentRequests,{'Student NUID':NUID,'Submitter NUID':'Advisor NUID','Term Code':First(colCurrentTerm).cr829_stvterm_code,'Term Name':First(colCurrentTerm).cr829_stvterm_desc,'Assessment Type':drpRequestSelfType_3.Selected.Value,'Q Order':'Question Order','Question Text':Question,'Q Type':'Question Type','Q Options':'Choice Options','Date Requested':Today()})
                                );
                            )
                        );
                        Patch('PhD Assessments',colAssessmentRequests);
                        UpdateIf(colRequestAssessmentsStudentList, true, {StudentSelected:false});
                        UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                        Clear(colAssessmentRequests);
                        Reset(chkSelectAllStudents_3);
                    PressedBorderColor: =RGBA(0, 69, 120, 1)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(16, 110, 190, 1)
                    RadiusBottomLeft: =Self.RadiusTopLeft
                    RadiusBottomRight: =Self.RadiusTopLeft
                    RadiusTopLeft: =5
                    RadiusTopRight: =Self.RadiusTopLeft
                    Size: =15
                    Text: ="Request Asessment"&If(StudentsSelected=1,"","s")&" for "&StudentsSelected&" Students"
                    Tooltip: =If(StudentsSelected=0,"Must select at least one student.","")
                    Width: =220
                    X: =(Parent.Width-Self.Width)/2
                    Y: =(Parent.Height-Self.Height)/2
                    ZIndex: =13

        ctrRequestStudentsList_3 As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =6

            ctrRequestStudentsListColumns_3 As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Light
                Fill: =RGBA(180, 214, 250, 1)
                FillPortions: =0
                Height: =ctrAdvColumns.Height
                LayoutMinHeight: =30
                LayoutMinWidth: =250
                PaddingLeft: =5
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                Y: =40
                ZIndex: =1

                chkSelectAllStudents_3 As checkbox:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    CheckboxBorderColor: =RGBA(96, 94, 92, 1)
                    CheckmarkFill: =RGBA(0, 120, 212, 1)
                    Color: =RGBA(50, 49, 48, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =40
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =RGBA(50, 49, 48, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    OnCheck: |-
                        =UpdateIf(colRequestAssessmentsStudentList, true, {StudentSelected:true});
                        UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                    OnUncheck: |-
                        =UpdateIf(colRequestAssessmentsStudentList, true, {StudentSelected:false});
                        UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected))});
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =RGBA(50, 49, 48, 1)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Size: =13
                    Text: =""
                    Width: =40
                    X: =Parent.PaddingLeft
                    ZIndex: =19

                labRequestStudentName_3 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Bold
                    PaddingLeft: =10
                    Size: =13
                    Text: ="Active Students ("&StudentsSelected&" student"&If(StudentsSelected=1,"","s")&" selected)"
                    Width: =Parent.Width-Self.X-Parent.PaddingRight
                    X: =chkSelectAllStudents_3.X+chkSelectAllStudents_3.Width
                    ZIndex: =20

            galRequestStudentsList_3 As gallery.galleryVertical:
                BorderColor: =RGBA(245, 245, 245, 1)
                DelayItemLoading: =true
                Items: =colRequestAssessmentsStudentList
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                LoadingSpinnerColor: =Color.DarkGray
                TemplateSize: |
                    =40
                ZIndex: =2

                txtRequestStudentName_3 As text:
                    BorderColor: =RGBA(245, 245, 245, 1)
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    Default: =ThisItem.'Full Name'
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    DisabledFill: =RGBA(242, 242, 241, 0)
                    DisplayMode: =DisplayMode.View
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =RGBA(16, 110, 190, 1)
                    HoverColor: =RGBA(50, 49, 48, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    OnSelect: =Select(Parent)
                    PaddingLeft: =10
                    PressedBorderColor: =RGBA(0, 120, 212, 1)
                    PressedColor: =RGBA(50, 49, 48, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =13
                    Width: =Parent.Width-Self.X-(Parent.TemplatePadding*2)
                    X: =chkSelectThisStudent_3.X+chkSelectThisStudent_3.Width
                    ZIndex: =16

                chkSelectThisStudent_3 As checkbox:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    CheckboxBorderColor: =RGBA(96, 94, 92, 1)
                    CheckmarkFill: =RGBA(0, 120, 212, 1)
                    Color: =RGBA(50, 49, 48, 1)
                    Default: =ThisItem.StudentSelected
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =40
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =RGBA(50, 49, 48, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    OnCheck: |-
                        =UpdateIf(colRequestAssessmentsStudentList,ThisItem.NUID=NUID,{StudentSelected:true});
                        UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                    OnSelect: =Select(Parent)
                    OnUncheck: |-
                        =UpdateIf(colRequestAssessmentsStudentList,ThisItem.NUID=NUID,{StudentSelected:false});
                        UpdateContext({StudentsSelected:CountRows(Filter(colRequestAssessmentsStudentList,StudentSelected=true))});
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =RGBA(50, 49, 48, 1)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Size: =13
                    Text: =""
                    Width: =40
                    ZIndex: =17

